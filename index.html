<!DOCTYPE html>
<html lang="sr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EventSphere - Sistem za Upravljanje Konferencijama</title>
        <link rel="stylesheet" href="style.css">
        
    
</head>
<body>
    <div class="container">
        <div id="loginView" class="login-card">
            <div class="login-header">
                <h1>EventSphere</h1>
                <p>Dobrodošli na platformu za događaje</p>
            </div>
            <div id="alertContainer"></div>
            <div class="form-group"><label>Email</label><input type="text" id="loginEmail"></div>
            <div class="form-group"><label>Lozinka</label><input type="password" id="loginPassword"></div>
            <button class="btn btn-primary" style="width: 100%;" onclick="doLogin()">Prijavi se</button>
            <div style="text-align: center; margin-top: 18px;"><a href="#" onclick="showRegister(); return false;" style="color: #667eea; font-size: 14px; text-decoration: none;">Nemate nalog? Registrujte se</a></div>
            <div class="test-accounts"><p><strong>Test nalozi:</strong> admin@conference.com / admin123 | organizator@conference.com / org123 | korisnik@conference.com / user123</p></div>
        </div>

        <div id="registerView" class="login-card hidden">
            <div class="login-header">
                <h1>Registracija</h1>
                <p>Kreirajte svoj nalog</p>
            </div>
            <div id="registerAlertContainer"></div>
            <div class="form-group"><label>Ime i prezime</label><input type="text" id="registerName"></div>
            <div class="form-group"><label>Email adresa</label><input type="text" id="registerEmail"></div>
            <div class="form-group"><label>Lozinka</label><input type="password" id="registerPassword"></div>
            <div class="form-group"><label>Potvrdi lozinku</label><input type="password" id="registerConfirmPassword"></div>
            <button class="btn btn-primary" style="width: 100%;" onclick="doRegister()">Registruj se</button>
            <div style="text-align: center; margin-top: 18px;"><a href="#" onclick="showLogin(); return false;" style="color: #667eea; font-size: 14px; text-decoration: none;">Već imate nalog? Prijavite se</a></div>
        </div>

        <div id="userView" class="hidden">
            <div class="header">
                <div><h1 id="userName"></h1><p id="userRole">Korisnik</p></div>
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-success" onclick="openReservationsModal()">Moje rezervacije</button>
                    <button class="btn btn-info" onclick="openMarketplace()">Marketplace</button>
                    <button class="btn btn-danger" onclick="doLogout()">Odjavi se</button>
                </div>
            </div>
            <div id="userAlertContainer"></div>
            <div>
                <div class="filter-panel">
                    <h3>Pretraga događaja</h3>
                    <input type="text" id="searchInput" placeholder="Pretražite po nazivu ili opisu..." style="width: 100%; margin-bottom: 15px; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 14px;">
                    <div class="filter-grid">
                        <select id="filterCity"><option value="">Svi gradovi</option><option value="Podgorica">Podgorica</option><option value="Budva">Budva</option><option value="Kotor">Kotor</option><option value="Herceg Novi">Herceg Novi</option><option value="Nikšić">Nikšić</option></select>
                        <select id="filterEventType"><option value="">Svi tipovi</option><option value="Koncert">Koncert</option><option value="Utakmica">Utakmica</option><option value="Konferencija">Konferencija</option><option value="Festival">Festival</option></select>
                        <select id="filterCategory"><option value="">Sve kategorije</option><option value="Kultura">Kultura</option><option value="Sport">Sport</option><option value="Tehnologija">Tehnologija</option><option value="Biznis">Biznis</option></select>
                    </div>
                    <button class="btn btn-secondary" style="width: 100%; margin-top: 15px;" onclick="doResetFilters()">Resetuj filtere</button>
                </div>
                <h2 style="font-size: 18px; margin-bottom: 15px; color: #333;">Dostupni događaji</h2>
                <div id="eventsList"></div>
            </div>
        </div>

        <div id="organizerView" class="hidden">
            <div class="header">
                <div><h1 id="organizerName"></h1><p>Organizator</p></div>
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-success" onclick="openEventFormModal()">Novi događaj</button>
                    <button class="btn btn-danger" onclick="doLogout()">Odjavi se</button>
                </div>
            </div>
            <div id="organizerAlertContainer"></div>
            <h2 style="font-size: 18px; margin-bottom: 15px; color: #333;">Moji događaji</h2>
            <div id="organizerEventsList"></div>
        </div>

        <div id="adminView" class="hidden">
            <div class="header">
                <div><h1 id="adminName"></h1><p>Administrator</p></div>
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-success" onclick="openEventFormModal()">Novi događaj</button>
                    <button class="btn btn-danger" onclick="doLogout()">Odjavi se</button>
                </div>
            </div>
            <div id="adminAlertContainer"></div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div>
                    <h2 style="font-size: 18px; margin-bottom: 15px; color: #333;">Svi događaji</h2>
                    <div id="adminEventsList"></div>
                </div>
                <div>
                    <h2 style="font-size: 18px; margin-bottom: 15px; color: #333;">Korisnici sistema</h2>
                    <div id="adminUsersList"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="reservationModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Potvrda rezervacije</h2>
                <span class="close-modal" onclick="closeReservModal()">&times;</span>
            </div>
            <div id="modalEventDetails"></div>
            <div class="form-group">
                <label>Broj karata</label>
                <input type="number" id="ticketQuantity" value="1" min="1" max="10" oninput="updatePrice()">
            </div>
            <div id="totalPriceDisplay" style="background: #f3f4f6; padding: 15px; border-radius: 8px; text-align: center; font-size: 18px; font-weight: 600; color: #667eea; margin-top: 15px;"></div>
            <div style="display: flex; gap: 10px; margin-top: 18px;">
                <button class="btn btn-primary" style="flex: 1;" onclick="doConfirmReservation()">Potvrdi rezervaciju</button>
                <button class="btn btn-secondary" onclick="closeReservModal()">Otkaži</button>
            </div>
        </div>
    </div>

    <div id="reservationsModal" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h2>Moje rezervacije</h2>
                <span class="close-modal" onclick="closeReservationsModal()">&times;</span>
            </div>
            <div id="reservationsModalList"></div>
        </div>
    </div>

    <div id="marketplaceModal" class="modal">
        <div class="modal-content" style="max-width: 1000px;">
            <div class="modal-header">
                <h2>Marketplace - Preprodaja karata</h2>
                <span class="close-modal" onclick="closeMarketplaceModal()">&times;</span>
            </div>
            <div style="display: flex; gap: 15px; margin-bottom: 20px;">
                <button class="btn btn-success" style="flex: 1;" onclick="openMyTickets()">Stavi svoju kartu</button>
                <button class="btn btn-info" style="flex: 1;" onclick="openAddCustom()">Prodaj kartu za događaj</button>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div class="marketplace-section">
                    <h3>Moje karte na preprodaji</h3>
                    <div id="myMarketplaceListings"></div>
                </div>
                <div class="marketplace-section">
                    <h3>Dostupne karte za kupovinu</h3>
                    <div id="availableMarketplaceListings"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="myTicketsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Izaberi kartu za preprodaju</h2>
                <span class="close-modal" onclick="closeMyTicketsModal()">&times;</span>
            </div>
            <div id="myTicketsList"></div>
        </div>
    </div>

    <div id="customTicketModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Prodaj kartu za događaj</h2>
                <span class="close-modal" onclick="closeCustomModal()">&times;</span>
            </div>
            <div class="form-group">
                <label>Izaberi događaj</label>
                <select id="customTicketEvent">
                    <option value="">-- Izaberi događaj --</option>
                </select>
            </div>
            <div class="form-group">
                <label>Cijena (EUR)</label>
                <input type="number" id="customTicketPrice" min="0" placeholder="Unesite cijenu">
            </div>
            <div class="form-group">
                <label>Dodatni opis (opciono)</label>
                <textarea id="customTicketDescription" rows="3" placeholder="Napišite dodatne informacije o karti..."></textarea>
            </div>
            <div style="display: flex; gap: 10px;">
                <button class="btn btn-primary" style="flex: 1;" onclick="doSaveCustom()">Dodaj na preprodaju</button>
                <button class="btn btn-secondary" onclick="closeCustomModal()">Otkaži</button>
            </div>
        </div>
    </div>

    <div id="eventFormModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="eventFormTitle">Novi događaj</h2>
                <span class="close-modal" onclick="closeEventFormModal()">&times;</span>
            </div>
            <div class="form-group"><label>Naziv događaja</label><input type="text" id="eventTitle"></div>
            <div class="form-group"><label>Detaljan opis</label><textarea id="eventDescription" rows="3"></textarea></div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                <div class="form-group"><label>Datum</label><input type="date" id="eventDate"></div>
                <div class="form-group"><label>Vrijeme</label><input type="time" id="eventTime"></div>
            </div>
            <div class="form-group"><label>Lokacija</label><input type="text" id="eventLocation"></div>
            <div class="form-group">
                <label>Grad</label>
                <select id="eventCity">
                    <option value="">Izaberi grad</option>
                    <option value="Podgorica">Podgorica</option>
                    <option value="Budva">Budva</option>
                    <option value="Kotor">Kotor</option>
                    <option value="Herceg Novi">Herceg Novi</option>
                    <option value="Nikšić">Nikšić</option>
                </select>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                <div class="form-group"><label>Kapacitet</label><input type="number" id="eventCapacity" min="1"></div>
                <div class="form-group"><label>Cijena (EUR)</label><input type="number" id="eventPrice" min="0"></div>
            </div>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
                <div class="form-group">
                    <label>Tip događaja</label>
                    <select id="eventType">
                        <option value="">Izaberi tip</option>
                        <option value="Koncert">Koncert</option>
                        <option value="Utakmica">Utakmica</option>
                        <option value="Konferencija">Konferencija</option>
                        <option value="Festival">Festival</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Kategorija</label>
                    <select id="eventCategory">
                        <option value="">Izaberi kategoriju</option>
                        <option value="Kultura">Kultura</option>
                        <option value="Sport">Sport</option>
                        <option value="Tehnologija">Tehnologija</option>
                        <option value="Biznis">Biznis</option>
                    </select>
                </div>
            </div>
            <div style="display: flex; gap: 10px;">
                <button class="btn btn-primary" style="flex: 1;" onclick="doSaveEvent()">Sačuvaj događaj</button>
                <button class="btn btn-secondary" onclick="closeEventFormModal()">Otkaži</button>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
    </body>
</html>

